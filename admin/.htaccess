# Enable the rewrite engine
RewriteEngine On

# Check if the requested file exists as a real file and prevent rewriting if it does
RewriteCond %{REQUEST_FILENAME} !-f

# Check if the requested URL is a directory and prevent rewriting if it is
RewriteCond %{REQUEST_FILENAME} !-d

# If the request is for a PHP file, internally rewrite it to the .php version
RewriteRule ^([a-zA-Z0-9_-]+)$ $1.php [L]

# Redirect users from file.php to file (no .php)
RewriteCond %{THE_REQUEST} \s/([a-zA-Z0-9_-]+)\.php\s [NC]
RewriteRule ^([a-zA-Z0-9_-]+)\.php$ /$1 [R=301,L]
