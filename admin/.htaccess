# Enable Rewrite Engine
RewriteEngine On

# Remove .php extension for all files
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_FILENAME}\.php -f
RewriteRule ^(.*)$ $1 [L]

# Redirect URLs with .php to clean URLs (optional)
RewriteCond %{THE_REQUEST} "\s(.+)\.php[\s?]"
RewriteRule ^ %1 [R=301,L]

# Add rule for handling access-control.php (optional)
# If you want to access access-control.php with a clean URL (e.g., /access-control instead of /access-control.php):
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_FILENAME}\.php$ -f
RewriteRule ^access-control$ access-control.php [L]

# Set CORS headers for access-control.php
<Files "access-control.php">
    Header set Access-Control-Allow-Origin "*"
    Header set Access-Control-Allow-Methods "GET, POST, OPTIONS"
    Header set Access-Control-Allow-Headers "Content-Type, X-Custom-Header"
</Files>
